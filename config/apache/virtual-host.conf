# Apache Virtual Host Configuration for Stone OnePoint Solutions
# Place this in your Apache sites-available directory and enable with a2ensite

<VirtualHost *:80>
    ServerName stoneonepointsolutions.in
    ServerAlias www.stoneonepointsolutions.in
    
    # Redirect HTTP to HTTPS
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName stoneonepointsolutions.in
    ServerAlias www.stoneonepointsolutions.in
    
    # Document Root
    DocumentRoot /var/www/stoneonepointsolutions
    
    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /path/to/ssl/certificate.crt
    SSLCertificateKeyFile /path/to/ssl/private.key
    SSLCertificateChainFile /path/to/ssl/ca-bundle.crt
    
    # SSL Security Settings
    SSLProtocol all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384
    SSLHonorCipherOrder on
    
    # Directory Configuration
    <Directory /var/www/stoneonepointsolutions>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        
        # Include .htaccess rules
        Include /var/www/stoneonepointsolutions/.htaccess
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/stoneonepointsolutions_error.log
    CustomLog ${APACHE_LOG_DIR}/stoneonepointsolutions_access.log combined
    
    # Security: Hide server information
    ServerTokens Prod
    ServerSignature Off
</VirtualHost>